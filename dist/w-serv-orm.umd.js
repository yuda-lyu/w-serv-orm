/*!
 * w-serv-orm v1.0.6
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("fs")):"function"==typeof define&&define.amd?define(["fs"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-serv-orm"]=e(t.fs)}(this,(function(t){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===e(r)?r:String(r)}function n(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u="object"==typeof o&&o&&o.Object===Object&&o,a=u,c="object"==typeof self&&self&&self.Object===Object&&self,f=a||c||Function("return this")(),s=f.Symbol;var l=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},v=Array.isArray,d=s,h=Object.prototype,p=h.hasOwnProperty,y=h.toString,b=d?d.toStringTag:void 0;var g=function(t){var e=p.call(t,b),r=t[b];try{t[b]=void 0;var n=!0}catch(t){}var o=y.call(t);return n&&(e?t[b]=r:delete t[b]),o},j=Object.prototype.toString;var m=g,_=function(t){return j.call(t)},w=s?s.toStringTag:void 0;var O=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":w&&w in Object(t)?m(t):_(t)};var $=function(t){return null!=t&&"object"==typeof t},S=O,M=$;var D=function(t){return"symbol"==typeof t||M(t)&&"[object Symbol]"==S(t)},P=l,A=v,x=D,T=s?s.prototype:void 0,z=T?T.toString:void 0;var I=function t(e){if("string"==typeof e)return e;if(A(e))return P(e,t)+"";if(x(e))return z?z.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r},k=/\s/;var E=function(t){for(var e=t.length;e--&&k.test(t.charAt(e)););return e},N=/^\s+/;var F=function(t){return t?t.slice(0,E(t)+1).replace(N,""):t};var C=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i},U=C;var Y=function(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:U(t,e,r)};var L=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1},W=function(t){return t!=t},H=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1};var B=function(t,e,r){return e==e?H(t,e,r):L(t,W,r)},R=B;var V=function(t,e){for(var r=t.length;r--&&R(e,t[r],0)>-1;);return r},J=B;var Z=function(t,e){for(var r=-1,n=t.length;++r<n&&J(e,t[r],0)>-1;);return r};var q=function(t){return t.split("")},G=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Q=function(t){return G.test(t)},K="\\ud800-\\udfff",X="["+K+"]",tt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",et="\\ud83c[\\udffb-\\udfff]",rt="[^"+K+"]",nt="(?:\\ud83c[\\udde6-\\uddff]){2}",ot="[\\ud800-\\udbff][\\udc00-\\udfff]",it="(?:"+tt+"|"+et+")"+"?",ut="[\\ufe0e\\ufe0f]?",at=ut+it+("(?:\\u200d(?:"+[rt,nt,ot].join("|")+")"+ut+it+")*"),ct="(?:"+[rt+tt+"?",tt,nt,ot,X].join("|")+")",ft=RegExp(et+"(?="+et+")|"+ct+at,"g");var st=q,lt=Q,vt=function(t){return t.match(ft)||[]};var dt=I;var ht=function(t){return null==t?"":dt(t)},pt=I,yt=F,bt=Y,gt=V,jt=Z,mt=function(t){return lt(t)?vt(t):st(t)},_t=ht;var wt=function(t,e,r){if((t=_t(t))&&(r||void 0===e))return yt(t);if(!t||!(e=pt(e)))return t;var n=mt(t),o=mt(e),i=jt(n,o),u=gt(n,o)+1;return bt(n,i,u).join("")},Ot=Object.prototype;var $t=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ot)};var St=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),Mt=$t,Dt=St,Pt=Object.prototype.hasOwnProperty;var At=function(t){if(!Mt(t))return Dt(t);var e=[];for(var r in Object(t))Pt.call(t,r)&&"constructor"!=r&&e.push(r);return e};var xt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Tt=O,zt=xt;var It,kt=function(t){if(!zt(t))return!1;var e=Tt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Et=f["__core-js_shared__"],Nt=(It=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+It:"";var Ft=function(t){return!!Nt&&Nt in t},Ct=Function.prototype.toString;var Ut=function(t){if(null!=t){try{return Ct.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Yt=kt,Lt=Ft,Wt=xt,Ht=Ut,Bt=/^\[object .+?Constructor\]$/,Rt=Function.prototype,Vt=Object.prototype,Jt=Rt.toString,Zt=Vt.hasOwnProperty,qt=RegExp("^"+Jt.call(Zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Gt=function(t){return!(!Wt(t)||Lt(t))&&(Yt(t)?qt:Bt).test(Ht(t))},Qt=function(t,e){return null==t?void 0:t[e]};var Kt=function(t,e){var r=Qt(t,e);return Gt(r)?r:void 0},Xt=Kt(f,"DataView"),te=Kt(f,"Map"),ee=Xt,re=te,ne=Kt(f,"Promise"),oe=Kt(f,"Set"),ie=Kt(f,"WeakMap"),ue=O,ae=Ut,ce="[object Map]",fe="[object Promise]",se="[object Set]",le="[object WeakMap]",ve="[object DataView]",de=ae(ee),he=ae(re),pe=ae(ne),ye=ae(oe),be=ae(ie),ge=ue;(ee&&ge(new ee(new ArrayBuffer(1)))!=ve||re&&ge(new re)!=ce||ne&&ge(ne.resolve())!=fe||oe&&ge(new oe)!=se||ie&&ge(new ie)!=le)&&(ge=function(t){var e=ue(t),r="[object Object]"==e?t.constructor:void 0,n=r?ae(r):"";if(n)switch(n){case de:return ve;case he:return ce;case pe:return fe;case ye:return se;case be:return le}return e});var je=ge;var me=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},_e=kt,we=me;var Oe=function(t){return null!=t&&we(t.length)&&!_e(t)},$e=O,Se=v,Me=$;var De=function(t){return"string"==typeof t||!Se(t)&&Me(t)&&"[object String]"==$e(t)};var Pe=function(t){return function(e){return null==e?void 0:e[t]}},Ae=Pe("length"),xe="\\ud800-\\udfff",Te="["+xe+"]",ze="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ie="\\ud83c[\\udffb-\\udfff]",ke="[^"+xe+"]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="(?:"+ze+"|"+Ie+")"+"?",Ce="[\\ufe0e\\ufe0f]?",Ue=Ce+Fe+("(?:\\u200d(?:"+[ke,Ee,Ne].join("|")+")"+Ce+Fe+")*"),Ye="(?:"+[ke+ze+"?",ze,Ee,Ne,Te].join("|")+")",Le=RegExp(Ie+"(?="+Ie+")|"+Ye+Ue,"g");var We=Ae,He=Q,Be=function(t){for(var e=Le.lastIndex=0;Le.test(t);)++e;return e};var Re=At,Ve=je,Je=Oe,Ze=De,qe=function(t){return He(t)?Be(t):We(t)};var Ge=function(t){if(null==t)return 0;if(Je(t))return Ze(t)?qe(t):t.length;var e=Ve(t);return"[object Map]"==e||"[object Set]"==e?t.size:Re(t).length},Qe=F,Ke=xt,Xe=D,tr=/^[-+]0x[0-9a-f]+$/i,er=/^0b[01]+$/i,rr=/^0o[0-7]+$/i,nr=parseInt;var or=function(t){if("number"==typeof t)return t;if(Xe(t))return NaN;if(Ke(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ke(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Qe(t);var r=er.test(t);return r||rr.test(t)?nr(t.slice(2),r?2:8):tr.test(t)?NaN:+t},ir=1/0;var ur=function(t){return t?(t=or(t))===ir||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var ar=C,cr=function(t){var e=ur(t),r=e%1;return e==e?r?e-r:e:0};var fr=function(t,e,r){var n=null==t?0:t.length;return n?(e=r||void 0===e?1:cr(e),ar(t,e<0?0:e,n)):[]},sr={},lr={get exports(){return sr},set exports(t){sr=t}};var vr=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};var dr=function(t){return function(e,r,n){for(var o=-1,i=Object(e),u=n(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===r(i[c],c,i))break}return e}}();var hr=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},pr=O,yr=$;var br=function(t){return yr(t)&&"[object Arguments]"==pr(t)},gr=$,jr=Object.prototype,mr=jr.hasOwnProperty,_r=jr.propertyIsEnumerable,wr=br(function(){return arguments}())?br:function(t){return gr(t)&&mr.call(t,"callee")&&!_r.call(t,"callee")},Or=wr,$r={};var Sr=function(){return!1};!function(t,e){var r=f,n=Sr,o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,u=i&&i.exports===o?r.Buffer:void 0,a=(u?u.isBuffer:void 0)||n;t.exports=a}({get exports(){return $r},set exports(t){$r=t}},$r);var Mr=/^(?:0|[1-9]\d*)$/;var Dr=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Mr.test(t))&&t>-1&&t%1==0&&t<e},Pr=O,Ar=me,xr=$,Tr={};Tr["[object Float32Array]"]=Tr["[object Float64Array]"]=Tr["[object Int8Array]"]=Tr["[object Int16Array]"]=Tr["[object Int32Array]"]=Tr["[object Uint8Array]"]=Tr["[object Uint8ClampedArray]"]=Tr["[object Uint16Array]"]=Tr["[object Uint32Array]"]=!0,Tr["[object Arguments]"]=Tr["[object Array]"]=Tr["[object ArrayBuffer]"]=Tr["[object Boolean]"]=Tr["[object DataView]"]=Tr["[object Date]"]=Tr["[object Error]"]=Tr["[object Function]"]=Tr["[object Map]"]=Tr["[object Number]"]=Tr["[object Object]"]=Tr["[object RegExp]"]=Tr["[object Set]"]=Tr["[object String]"]=Tr["[object WeakMap]"]=!1;var zr=function(t){return xr(t)&&Ar(t.length)&&!!Tr[Pr(t)]};var Ir=function(t){return function(e){return t(e)}},kr={};!function(t,e){var r=u,n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n&&r.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=a}({get exports(){return kr},set exports(t){kr=t}},kr);var Er=zr,Nr=Ir,Fr=kr&&kr.isTypedArray,Cr=Fr?Nr(Fr):Er,Ur=hr,Yr=Or,Lr=v,Wr=$r,Hr=Dr,Br=Cr,Rr=Object.prototype.hasOwnProperty;var Vr=function(t,e){var r=Lr(t),n=!r&&Yr(t),o=!r&&!n&&Wr(t),i=!r&&!n&&!o&&Br(t),u=r||n||o||i,a=u?Ur(t.length,String):[],c=a.length;for(var f in t)!e&&!Rr.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Hr(f,c))||a.push(f);return a},Jr=At,Zr=Oe;var qr=function(t){return Zr(t)?Vr(t):Jr(t)},Gr=dr,Qr=qr;var Kr=Oe;var Xr=function(t,e){return function(r,n){if(null==r)return r;if(!Kr(r))return t(r,n);for(var o=r.length,i=e?o:-1,u=Object(r);(e?i--:++i<o)&&!1!==n(u[i],i,u););return r}}((function(t,e){return t&&Gr(t,e,Qr)}));var tn=function(t){return t},en=tn;var rn=vr,nn=Xr,on=function(t){return"function"==typeof t?t:en},un=v;var an=function(t,e){return(un(t)?rn:nn)(t,on(e))};!function(t){t.exports=an}(lr);var cn=i(sr);function fn(){let t,e,r=new Promise((function(){t=arguments[0],e=arguments[1]}));return r.resolve=t,r.reject=e,r}function sn(t){return"[object Array]"===Object.prototype.toString.call(t)}function ln(t){return"[object Object]"===Object.prototype.toString.call(t)}function vn(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}function dn(t,e){let r=fn();if(!sn(t)&&!ln(t))return r.reject("rs is not an array or object"),r;let n=!1;if(ln(t)){n=!0;let e=[];cn(t,((t,r)=>{e.push({k:r,v:t})})),t=e}vn(e)||(e=function(t){return t});let o=-1,i=[];return t.reduce((function(t,r){return t.then((function(t){i.push(t),o+=1;let u=o,a=r;return n&&(u=r.k,a=r.v),vn(e)?e(a,u):a}))}),Promise.resolve()).then((function(t){i.push(t),i=fr(i),r.resolve(i)})).catch((function(t){r.reject(t)})),r}function hn(t){if(ln(t)){for(let e in t)return!0;return!1}return!1}var pn=O,yn=$;var bn=function(t){return!0===t||!1===t||yn(t)&&"[object Boolean]"==pn(t)};function gn(t){return bn(t)}function jn(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}let mn={backup:async function(t){return await dn(t,(async(t,e)=>(console.log("backup...",e),{name:e,data:await t.select()})))},recover:async function(e,r,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i=e,!t.existsSync(i)||t.lstatSync(i).isDirectory()||t.lstatSync(i).isSymbolicLink())throw console.log("fp",e),new Error("fp is not exist");var i;if(!hn(r))throw console.log("woItems",r),new Error("invalid woItems");vn(n)||(n=null),gn(o)||(o=!1);let u=t.readFileSync(e,"utf8");u=wt(u);let a=function(t){if(!jn(t))return{};let e={};try{e=JSON.parse(t)}catch(t){e={}}return e}(u);vn(n)&&n(),await dn(a,(async t=>{console.log("recover...",t.name),o&&(console.log("needCreateStorage"),await r[t.name].createStorage());let e=null;return Ge(t.data)>0&&(e=await r[t.name].insert(t.data)),e}))}};var _n=v,wn=D,On=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$n=/^\w*$/;var Sn=function(t,e){if(_n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!wn(t))||($n.test(t)||!On.test(t)||null!=e&&t in Object(e))},Mn=Kt(Object,"create"),Dn=Mn;var Pn=function(){this.__data__=Dn?Dn(null):{},this.size=0};var An=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xn=Mn,Tn=Object.prototype.hasOwnProperty;var zn=function(t){var e=this.__data__;if(xn){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Tn.call(e,t)?e[t]:void 0},In=Mn,kn=Object.prototype.hasOwnProperty;var En=Mn;var Nn=Pn,Fn=An,Cn=zn,Un=function(t){var e=this.__data__;return In?void 0!==e[t]:kn.call(e,t)},Yn=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=En&&void 0===e?"__lodash_hash_undefined__":e,this};function Ln(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ln.prototype.clear=Nn,Ln.prototype.delete=Fn,Ln.prototype.get=Cn,Ln.prototype.has=Un,Ln.prototype.set=Yn;var Wn=Ln;var Hn=function(){this.__data__=[],this.size=0};var Bn=function(t,e){return t===e||t!=t&&e!=e},Rn=Bn;var Vn=function(t,e){for(var r=t.length;r--;)if(Rn(t[r][0],e))return r;return-1},Jn=Vn,Zn=Array.prototype.splice;var qn=Vn;var Gn=Vn;var Qn=Vn;var Kn=Hn,Xn=function(t){var e=this.__data__,r=Jn(e,t);return!(r<0)&&(r==e.length-1?e.pop():Zn.call(e,r,1),--this.size,!0)},to=function(t){var e=this.__data__,r=qn(e,t);return r<0?void 0:e[r][1]},eo=function(t){return Gn(this.__data__,t)>-1},ro=function(t,e){var r=this.__data__,n=Qn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function no(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}no.prototype.clear=Kn,no.prototype.delete=Xn,no.prototype.get=to,no.prototype.has=eo,no.prototype.set=ro;var oo=no,io=Wn,uo=oo,ao=te;var co=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var fo=function(t,e){var r=t.__data__;return co(e)?r["string"==typeof e?"string":"hash"]:r.map},so=fo;var lo=fo;var vo=fo;var ho=fo;var po=function(t,e){var r=ho(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},yo=function(){this.size=0,this.__data__={hash:new io,map:new(ao||uo),string:new io}},bo=function(t){var e=so(this,t).delete(t);return this.size-=e?1:0,e},go=function(t){return lo(this,t).get(t)},jo=function(t){return vo(this,t).has(t)},mo=po;function _o(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_o.prototype.clear=yo,_o.prototype.delete=bo,_o.prototype.get=go,_o.prototype.has=jo,_o.prototype.set=mo;var wo=_o,Oo=wo;function $o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new($o.Cache||Oo),r}$o.Cache=Oo;var So=$o;var Mo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Do=/\\(\\)?/g,Po=function(t){var e=So(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Mo,(function(t,r,n,o){e.push(n?o.replace(Do,"$1"):r||t)})),e})),Ao=v,xo=Sn,To=Po,zo=ht;var Io=function(t,e){return Ao(t)?t:xo(t,e)?[t]:To(zo(t))},ko=D;var Eo=function(t){if("string"==typeof t||ko(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e},No=Io,Fo=Eo;var Co=function(t,e){for(var r=0,n=(e=No(e,t)).length;null!=t&&r<n;)t=t[Fo(e[r++])];return r&&r==n?t:void 0},Uo=Co;var Yo=function(t,e,r){var n=null==t?void 0:Uo(t,e);return void 0===n?r:n},Lo=oo;var Wo=oo,Ho=te,Bo=wo;var Ro=oo,Vo=function(){this.__data__=new Lo,this.size=0},Jo=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Zo=function(t){return this.__data__.get(t)},qo=function(t){return this.__data__.has(t)},Go=function(t,e){var r=this.__data__;if(r instanceof Wo){var n=r.__data__;if(!Ho||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Bo(n)}return r.set(t,e),this.size=r.size,this};function Qo(t){var e=this.__data__=new Ro(t);this.size=e.size}Qo.prototype.clear=Vo,Qo.prototype.delete=Jo,Qo.prototype.get=Zo,Qo.prototype.has=qo,Qo.prototype.set=Go;var Ko=Qo;var Xo=wo,ti=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ei=function(t){return this.__data__.has(t)};function ri(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Xo;++e<r;)this.add(t[e])}ri.prototype.add=ri.prototype.push=ti,ri.prototype.has=ei;var ni=ri,oi=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},ii=function(t,e){return t.has(e)};var ui=function(t,e,r,n,o,i){var u=1&r,a=t.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var f=i.get(t),s=i.get(e);if(f&&s)return f==e&&s==t;var l=-1,v=!0,d=2&r?new ni:void 0;for(i.set(t,e),i.set(e,t);++l<a;){var h=t[l],p=e[l];if(n)var y=u?n(p,h,l,e,t,i):n(h,p,l,t,e,i);if(void 0!==y){if(y)continue;v=!1;break}if(d){if(!oi(e,(function(t,e){if(!ii(d,e)&&(h===t||o(h,t,r,n,i)))return d.push(e)}))){v=!1;break}}else if(h!==p&&!o(h,p,r,n,i)){v=!1;break}}return i.delete(t),i.delete(e),v};var ai=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var ci=f.Uint8Array,fi=Bn,si=ui,li=ai,vi=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},di=s?s.prototype:void 0,hi=di?di.valueOf:void 0;var pi=function(t,e,r,n,o,i,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new ci(t),new ci(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return fi(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=li;case"[object Set]":var c=1&n;if(a||(a=vi),t.size!=e.size&&!c)return!1;var f=u.get(t);if(f)return f==e;n|=2,u.set(t,e);var s=si(a(t),a(e),n,o,i,u);return u.delete(t),s;case"[object Symbol]":if(hi)return hi.call(t)==hi.call(e)}return!1};var yi=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},bi=v;var gi=function(t,e,r){var n=e(t);return bi(t)?n:yi(n,r(t))};var ji=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i};var mi=ji,_i=function(){return[]},wi=Object.prototype.propertyIsEnumerable,Oi=Object.getOwnPropertySymbols,$i=gi,Si=Oi?function(t){return null==t?[]:(t=Object(t),mi(Oi(t),(function(e){return wi.call(t,e)})))}:_i,Mi=qr;var Di=function(t){return $i(t,Mi,Si)},Pi=Object.prototype.hasOwnProperty;var Ai=Ko,xi=ui,Ti=pi,zi=function(t,e,r,n,o,i){var u=1&r,a=Di(t),c=a.length;if(c!=Di(e).length&&!u)return!1;for(var f=c;f--;){var s=a[f];if(!(u?s in e:Pi.call(e,s)))return!1}var l=i.get(t),v=i.get(e);if(l&&v)return l==e&&v==t;var d=!0;i.set(t,e),i.set(e,t);for(var h=u;++f<c;){var p=t[s=a[f]],y=e[s];if(n)var b=u?n(y,p,s,e,t,i):n(p,y,s,t,e,i);if(!(void 0===b?p===y||o(p,y,r,n,i):b)){d=!1;break}h||(h="constructor"==s)}if(d&&!h){var g=t.constructor,j=e.constructor;g==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j||(d=!1)}return i.delete(t),i.delete(e),d},Ii=je,ki=v,Ei=$r,Ni=Cr,Fi="[object Arguments]",Ci="[object Array]",Ui="[object Object]",Yi=Object.prototype.hasOwnProperty;var Li=function(t,e,r,n,o,i){var u=ki(t),a=ki(e),c=u?Ci:Ii(t),f=a?Ci:Ii(e),s=(c=c==Fi?Ui:c)==Ui,l=(f=f==Fi?Ui:f)==Ui,v=c==f;if(v&&Ei(t)){if(!Ei(e))return!1;u=!0,s=!1}if(v&&!s)return i||(i=new Ai),u||Ni(t)?xi(t,e,r,n,o,i):Ti(t,e,c,r,n,o,i);if(!(1&r)){var d=s&&Yi.call(t,"__wrapped__"),h=l&&Yi.call(e,"__wrapped__");if(d||h){var p=d?t.value():t,y=h?e.value():e;return i||(i=new Ai),o(p,y,r,n,i)}}return!!v&&(i||(i=new Ai),zi(t,e,r,n,o,i))},Wi=$;var Hi=function t(e,r,n,o,i){return e===r||(null==e||null==r||!Wi(e)&&!Wi(r)?e!=e&&r!=r:Li(e,r,n,o,t,i))},Bi=Ko,Ri=Hi;var Vi=xt;var Ji=function(t){return t==t&&!Vi(t)},Zi=Ji,qi=qr;var Gi=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}},Qi=function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=r[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=r[o])[0],f=t[c],s=a[1];if(u&&a[2]){if(void 0===f&&!(c in t))return!1}else{var l=new Bi;if(n)var v=n(f,s,c,t,e,l);if(!(void 0===v?Ri(s,f,3,n,l):v))return!1}}return!0},Ki=function(t){for(var e=qi(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Zi(o)]}return e},Xi=Gi;var tu=Io,eu=Or,ru=v,nu=Dr,ou=me,iu=Eo;var uu=function(t,e){return null!=t&&e in Object(t)},au=function(t,e,r){for(var n=-1,o=(e=tu(e,t)).length,i=!1;++n<o;){var u=iu(e[n]);if(!(i=null!=t&&r(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&ou(o)&&nu(u,o)&&(ru(t)||eu(t))};var cu=Hi,fu=Yo,su=function(t,e){return null!=t&&au(t,e,uu)},lu=Sn,vu=Ji,du=Gi,hu=Eo;var pu=Co;var yu=Pe,bu=function(t){return function(e){return pu(e,t)}},gu=Sn,ju=Eo;var mu=function(t){var e=Ki(t);return 1==e.length&&e[0][2]?Xi(e[0][0],e[0][1]):function(r){return r===t||Qi(r,t,e)}},_u=function(t,e){return lu(t)&&vu(e)?du(hu(t),e):function(r){var n=fu(r,t);return void 0===n&&n===e?su(r,t):cu(e,n,3)}},wu=tn,Ou=v,$u=function(t){return gu(t)?yu(ju(t)):bu(t)};var Su=function(t){return"function"==typeof t?t:null==t?wu:"object"==typeof t?Ou(t)?_u(t[0],t[1]):mu(t):$u(t)},Mu=Xr,Du=Oe;var Pu=l,Au=Su,xu=function(t,e){var r=-1,n=Du(t)?Array(t.length):[];return Mu(t,(function(t,o,i){n[++r]=e(t,o,i)})),n},Tu=v;var zu=function(t,e){return(Tu(t)?Pu:xu)(t,Au(e))},Iu={};!function(t,e){t.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",o="second",i="minute",u="hour",a="day",c="week",f="month",s="quarter",l="year",v="date",d="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},b=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},g={s:b,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+b(n,2,"0")+":"+b(o,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),o=e.clone().add(n,f),i=r-o<0,u=e.clone().add(n+(i?-1:1),f);return+(-(n+(r-o)/(i?o-u:u-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:l,w:c,d:a,D:v,h:u,m:i,s:o,ms:n,Q:s}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},j="en",m={};m[j]=y;var _=function(t){return t instanceof S},w=function t(e,r,n){var o;if(!e)return j;if("string"==typeof e){var i=e.toLowerCase();m[i]&&(o=i),r&&(m[i]=r,o=i);var u=e.split("-");if(!o&&u.length>1)return t(u[0])}else{var a=e.name;m[a]=e,o=a}return!n&&o&&(j=o),o||!n&&j},O=function(t,e){if(_(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new S(r)},$=g;$.l=w,$.i=_,$.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function y(t){this.$L=w(t.locale,null,!0),this.parse(t)}var b=y.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(h);if(n){var o=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return $},b.isValid=function(){return!(this.$d.toString()===d)},b.isSame=function(t,e){var r=O(t);return this.startOf(e)<=r&&r<=this.endOf(e)},b.isAfter=function(t,e){return O(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<O(t)},b.$g=function(t,e,r){return $.u(t)?this[e]:this.set(r,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var r=this,n=!!$.u(e)||e,s=$.p(t),d=function(t,e){var o=$.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?o:o.endOf(a)},h=function(t,e){return $.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},p=this.$W,y=this.$M,b=this.$D,g="set"+(this.$u?"UTC":"");switch(s){case l:return n?d(1,0):d(31,11);case f:return n?d(1,y):d(0,y+1);case c:var j=this.$locale().weekStart||0,m=(p<j?p+7:p)-j;return d(n?b-m:b+(6-m),y);case a:case v:return h(g+"Hours",0);case u:return h(g+"Minutes",1);case i:return h(g+"Seconds",2);case o:return h(g+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var r,c=$.p(t),s="set"+(this.$u?"UTC":""),d=(r={},r[a]=s+"Date",r[v]=s+"Date",r[f]=s+"Month",r[l]=s+"FullYear",r[u]=s+"Hours",r[i]=s+"Minutes",r[o]=s+"Seconds",r[n]=s+"Milliseconds",r)[c],h=c===a?this.$D+(e-this.$W):e;if(c===f||c===l){var p=this.clone().set(v,1);p.$d[d](h),p.init(),this.$d=p.set(v,Math.min(this.$D,p.daysInMonth())).$d}else d&&this.$d[d](h);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[$.p(t)]()},b.add=function(n,s){var v,d=this;n=Number(n);var h=$.p(s),p=function(t){var e=O(d);return $.w(e.date(e.date()+Math.round(t*n)),d)};if(h===f)return this.set(f,this.$M+n);if(h===l)return this.set(l,this.$y+n);if(h===a)return p(1);if(h===c)return p(7);var y=(v={},v[i]=e,v[u]=r,v[o]=t,v)[h]||1,b=this.$d.getTime()+n*y;return $.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=t||"YYYY-MM-DDTHH:mm:ssZ",o=$.z(this),i=this.$H,u=this.$m,a=this.$M,c=r.weekdays,f=r.months,s=function(t,r,o,i){return t&&(t[r]||t(e,n))||o[r].slice(0,i)},l=function(t){return $.s(i%12||12,t,"0")},v=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:$.s(a+1,2,"0"),MMM:s(r.monthsShort,a,f,3),MMMM:s(f,a),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:s(r.weekdaysMin,this.$W,c,2),ddd:s(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:$.s(i,2,"0"),h:l(1),hh:l(2),a:v(i,u,!0),A:v(i,u,!1),m:String(u),mm:$.s(u,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:o};return n.replace(p,(function(t,e){return e||h[t]||o.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,v,d){var h,p=$.p(v),y=O(n),b=(y.utcOffset()-this.utcOffset())*e,g=this-y,j=$.m(this,y);return j=(h={},h[l]=j/12,h[f]=j,h[s]=j/3,h[c]=(g-b)/6048e5,h[a]=(g-b)/864e5,h[u]=g/r,h[i]=g/e,h[o]=g/t,h)[p]||g,d?j:$.a(j)},b.daysInMonth=function(){return this.endOf(f).$D},b.$locale=function(){return m[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=w(t,e,!0);return n&&(r.$L=n),r},b.clone=function(){return $.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},y}(),M=S.prototype;return O.prototype=M,[["$ms",n],["$s",o],["$m",i],["$H",u],["$W",a],["$M",f],["$y",l],["$D",v]].forEach((function(t){M[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,S,O),t.$i=!0),O},O.locale=w,O.isDayjs=_,O.unix=function(t){return O(1e3*t)},O.en=m[j],O.Ls=m,O.p={},O}()}({get exports(){return Iu},set exports(t){Iu=t}});var ku=Iu;let Eu=null,Nu=null;function Fu(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"save";if(!hn(Eu))throw console.log("ds",Eu),new Error("invalid ds");let o=Eu[t].keys,i=!1;sn(r)||(i=!0,r=[r]);let u=ku().format("YYYY-MM-DDTHH:mm:ss.SSSZ");return n.indexOf("insert")>=0&&(o.indexOf("userId")>=0&&cn(r,((t,n)=>{r[n].userId=e})),o.indexOf("timeCreate")>=0&&cn(r,((t,e)=>{r[e].timeCreate=u}))),(n.indexOf("insert")>=0||n.indexOf("save")>=0)&&(o.indexOf("userIdUpdate")>=0&&cn(r,((t,n)=>{r[n].userIdUpdate=e})),o.indexOf("timeUpdate")>=0&&cn(r,((t,e)=>{r[e].timeUpdate=u}))),r=i?r[0]:r}async function Cu(t,e,r,n){let o,i=null;if(!hn(Nu))return Promise.reject("無有效woItems");let u=Yo(Nu,e,null);if(null===u)return Promise.reject(`ORM找不到表名稱: ${e}`);if("select"===r){if(o=await u.select(n).catch((t=>{console.log(`${e}.select catch`,t),i="取得資料失敗"})),jn(i))return Promise.reject(i)}else if("insert"===r||"save"===r){try{n=Fu(e,t,n,r)}catch(t){return console.log("adjustData catch",t.toString()),i="調整資料失敗",Promise.reject(i)}if("insert"===r?o=await u.insert(n).catch((t=>{console.log(`${e}.save catch`,t),i="新增資料失敗"})):"save"===r&&(o=await u.save(n,{atomic:!0}).catch((t=>{console.log(`${e}.save catch`,t),i="儲存資料失敗"}))),jn(i))return Promise.reject(i);o=sn(n)?zu(n,(t=>({id:t.id}))):{id:n.id}}else if("del"===r)o=await u.del(n).catch((t=>{console.log(`${e}.del catch`,t),i="刪除資料失敗"}));else if("delAll"===r)o=await u.delAll(n).catch((t=>{console.log(`${e}.delAll catch`,t),i="刪除資料失敗"}));else if("mix"===r){if(!hn(n))return Promise.reject("mix僅支援輸入ltdtdiff結果物件");let r;o=[];let a=Yo(n,"add",[]);if(Ge(a)>0){try{a=Fu(e,t,a,"insert+save")}catch(t){return console.log("adjustData catch",t.toString()),i="調整資料失敗",Promise.reject(i)}if(await u.insert(a).catch((t=>{console.log(`${e}.save catch`,t),i="新增資料失敗"})),jn(i))return Promise.reject(i);r=zu(a,(t=>({id:t.id}))),o=[...o,...r]}let c=Yo(n,"del",[]);if(Ge(c)>0){if(await u.del(c).catch((t=>{console.log(`${e}.save catch`,t),i="刪除資料失敗"})),jn(i))return Promise.reject(i);r=zu(c,(t=>({id:t.id}))),o=[...o,...r]}let f=Yo(n,"diff",[]);if(Ge(f)>0){try{f=Fu(e,t,f)}catch(t){return console.log("adjustData catch",t.toString()),i="調整資料失敗",Promise.reject(i)}if(await u.save(f).catch((t=>{console.log(`${e}.save catch`,t),i="變更資料失敗"})),jn(i))return Promise.reject(i);r=zu(f,(t=>({id:t.id}))),o=[...o,...r]}}else i=`invalid mode: ${r}`;return jn(i)?Promise.reject(i):o}function Uu(t,e){return Eu=t,Nu=e,Cu}var Yu=Xr;var Lu=ji,Wu=function(t,e){var r=[];return Yu(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r},Hu=Su,Bu=v;var Ru=function(t,e){return(Bu(t)?Lu:Wu)(t,Hu(e))};function Vu(t){let e=!1;return jn(t)?e=!isNaN(Number(t)):function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)&&(e=!0),e}function Ju(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!sn(t)){let t=fn();return t.reject("pms is not an array"),t}return t.reduce(((t,e)=>t.then(e)),Promise.resolve(e))}let Zu=[],qu=[],Gu=[],Qu=null,Ku=null,Xu=!0,ta=!0;function ea(t){setTimeout((()=>{Zu.push(t)}),1)}function ra(t){setTimeout((()=>{qu.push(t)}),1)}function na(t){setTimeout((()=>{Gu.push(t)}),1)}async function oa(t,e,r,n){if(!vn(Qu))return Promise.reject("invalid mapOrm");if(!jn(t))return console.log(`找不到使用者主鍵: (${t})`),Promise.reject("找不到使用者主鍵");let o="n";if(Xu){if(!vn(Ku))return Promise.reject("invalid getUserById");let e=await Ku(t);if(!e)return console.log(`找不到使用者資訊: (${t})`),Promise.reject("找不到使用者資訊");o=Yo(e,"isAdmin"),"y"!==o&&"n"!==o&&(o="n");let r=Yo(e,"isActive");if("y"!==r&&"n"!==r&&(r="n"),"y"!==r)return console.log(`使用者被停權或無有效使用者資訊: (${t})`),Promise.reject("使用者被停權或無有效使用者資訊")}if(await dn(Zu,(i=>i({woName:e,userId:t,isAdmin:o,mode:r,input:n}))),Ge(qu)>0){let i={woName:e,userId:t,isAdmin:o,mode:r,input:n},u=await Ju(qu,i);n=u.input}let i=await Qu(t,e,r,n);return ta&&"n"===o&&"select"===r&&sn(i)&&(i=Ru(i,(t=>{return r="isActive",!ln(e=t)||!jn(r)&&!Vu(r)||!(r in e)||!("n"===t.isActive);var e,r}))),Ge(Gu)>0&&(i=await Ju(Gu,{woName:e,userId:t,isAdmin:o,mode:r,input:n,output:i})),i}function ia(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ua(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ia(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ia(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}return function(t,e,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=function(t,e,r,n){if(!hn(t))throw console.log("ds",t),new Error("invalid ds");if(!vn(e))throw console.log("WOrm",e),new Error("invalid WOrm");if(!jn(r))throw console.log("url",r),new Error("invalid url");if(!jn(n))throw console.log("db",n),new Error("invalid db");let o={};return cn(qr(t),(t=>{let i=new e({url:r,db:n,cl:t});o[t]=i})),o}(t,e,r,n),u=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vn(t)?(Qu=t,Xu=Yo(e,"bCheckUser"),gn(Xu)||(Xu=!0),Ku=Yo(e,"getUserById"),ta=Yo(e,"bExcludeWhenNotAdmin"),gn(ta)||(ta=!0),{addFunCheck:ea,addFunPreProcessing:ra,addFunPostProcessing:na,procOrm:oa}):Promise.reject("invalid mapOrm")}(Uu(t,i),o);return ua(ua({},mn),{},{woItems:i},u)}}));
//# sourceMappingURL=w-serv-orm.umd.js.map
